{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{API_BASE,withBase}from'../api';import'./Login.css';import{startRegistration,startAuthentication}from'@simplewebauthn/browser';import{useI18n}from'../i18n';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(_ref){let{onLogin}=_ref;const[showRegister,setShowRegister]=useState(false);const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[regUsername,setRegUsername]=useState('');const[regPassword,setRegPassword]=useState('');const[error,setError]=useState(null);const[success,setSuccess]=useState(false);const[regError,setRegError]=useState(null);const[regSuccess,setRegSuccess]=useState(false);const[remember,setRemember]=useState(true);const[passkeyMsg,setPasskeyMsg]=useState(null);const[busy,setBusy]=useState(false);const{t}=useI18n();const handleSubmit=async e=>{e.preventDefault();setError(null);setSuccess(false);try{var _resp$data;const resp=await axios.post(withBase('/api/login'),{username,password,remember},{validateStatus:()=>true});if(resp.status===200){setSuccess(true);if(typeof onLogin==='function')onLogin();// Force a light reload to ensure session user picked by /api/me (optional)\nsetTimeout(()=>{window.location.href='/?google=1';},300);}else if(resp.status===403&&(_resp$data=resp.data)!==null&&_resp$data!==void 0&&_resp$data.pending){window.location.href='/?pending=1';}else{var _resp$data2;setError(((_resp$data2=resp.data)===null||_resp$data2===void 0?void 0:_resp$data2.error)||'Login failed');}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Login failed');}};const handleRegister=async e=>{e.preventDefault();setRegError(null);setRegSuccess(false);try{var _resp$data3;const resp=await axios.post(withBase('/api/register'),{username:regUsername,password:regPassword});if((_resp$data3=resp.data)!==null&&_resp$data3!==void 0&&_resp$data3.pending){// go to pending page immediately\nwindow.location.href='/?pending=1';}else{setRegSuccess(true);}setRegUsername('');setRegPassword('');}catch(err){var _err$response2,_err$response2$data;setRegError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Registration failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:showRegister?t('login_create_account'):t('login_sign_in')}),!showRegister?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{required:true,className:\"input\",type:\"text\",name:\"username\",id:\"username\",placeholder:t('login_username'),value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"input\",type:\"password\",name:\"password\",id:\"password\",placeholder:t('login_password'),value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"forgot-password\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:t('login_forgot_password')})}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'6px',fontSize:'12px',marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:remember,onChange:e=>setRemember(e.target.checked)}),\" Remember me\"]}),/*#__PURE__*/_jsx(\"input\",{className:\"login-button\",type:\"submit\",value:t('login_sign_in')})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',textAlign:'center',marginTop:'10px'},children:error}),success&&/*#__PURE__*/_jsx(\"div\",{style:{color:'green',textAlign:'center',marginTop:'10px'},children:\"Login successful!\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:busy||!username,onClick:async()=>{if(!window.PublicKeyCredential){setPasskeyMsg(t('passkey_not_supported'));return;}setBusy(true);setPasskeyMsg(null);try{// Start auth\nconst start=await axios.post(withBase('/api/webauthn/auth/start'),{username},{validateStatus:()=>true});if(start.status!==200){var _start$data;setPasskeyMsg(((_start$data=start.data)===null||_start$data===void 0?void 0:_start$data.error)||t('passkey_login_error'));setBusy(false);return;}const asseResp=await startAuthentication(start.data);const finish=await axios.post(withBase('/api/webauthn/auth/finish'),asseResp,{validateStatus:()=>true});if(finish.status===200){setPasskeyMsg(t('passkey_login_success'));if(typeof onLogin==='function'){onLogin();}setTimeout(()=>window.location.href='/?passkey=1',250);}else{var _finish$data;setPasskeyMsg(((_finish$data=finish.data)===null||_finish$data===void 0?void 0:_finish$data.error)||t('passkey_login_error'));}}catch(e){setPasskeyMsg(t('passkey_login_error'));}finally{setBusy(false);}},style:{margin:'8px auto 0',display:'block',background:'#0d6efd',color:'#fff',border:'none',padding:'0.55rem 0.9rem',borderRadius:8,cursor:'pointer',fontSize:'0.75rem',fontWeight:600,letterSpacing:'0.5px',opacity:busy?0.7:1},children:busy?t('passkey_in_progress'):t('passkey_login')}),passkeyMsg&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:6,fontSize:'0.7rem',color:passkeyMsg.includes('sukses')||passkeyMsg.includes('success')?'green':'#444'},children:passkeyMsg}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'10px auto',display:'block',background:'none',border:'none',color:'#0099ff',cursor:'pointer',fontSize:'14px'},onClick:()=>setShowRegister(true),children:t('login_create_account')})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{required:true,className:\"input\",type:\"text\",name:\"regUsername\",id:\"regUsername\",placeholder:t('login_username'),value:regUsername,onChange:e=>setRegUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"input\",type:\"password\",name:\"regPassword\",id:\"regPassword\",placeholder:t('login_password'),value:regPassword,onChange:e=>setRegPassword(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"login-button\",type:\"submit\",value:t('login_create_account')})]}),regError&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',textAlign:'center',marginTop:'10px'},children:regError}),regSuccess&&/*#__PURE__*/_jsx(\"div\",{style:{color:'green',textAlign:'center',marginTop:'10px'},children:t('login_pending_account')}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'10px auto',display:'block',background:'none',border:'none',color:'#0099ff',cursor:'pointer',fontSize:'14px'},onClick:()=>setShowRegister(false),children:t('login_back')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-account-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:t('login_or_social')}),/*#__PURE__*/_jsx(\"div\",{className:\"social-accounts\",children:/*#__PURE__*/_jsx(\"button\",{className:\"social-button google\",type:\"button\",onClick:()=>window.location.href=withBase('/api/auth/google'),children:/*#__PURE__*/_jsx(\"svg\",{className:\"svg\",xmlns:\"http://www.w3.org/2000/svg\",height:\"1em\",viewBox:\"0 0 488 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z\"})})})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"agreement\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Learn user licence agreement\"})})]});}","map":{"version":3,"names":["React","useState","axios","API_BASE","withBase","startRegistration","startAuthentication","useI18n","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","onLogin","showRegister","setShowRegister","username","setUsername","password","setPassword","regUsername","setRegUsername","regPassword","setRegPassword","error","setError","success","setSuccess","regError","setRegError","regSuccess","setRegSuccess","remember","setRemember","passkeyMsg","setPasskeyMsg","busy","setBusy","t","handleSubmit","e","preventDefault","_resp$data","resp","post","validateStatus","status","setTimeout","window","location","href","data","pending","_resp$data2","err","_err$response","_err$response$data","response","handleRegister","_resp$data3","_err$response2","_err$response2$data","className","children","onSubmit","required","type","name","id","placeholder","value","onChange","target","style","display","alignItems","gap","fontSize","marginTop","checked","color","textAlign","disabled","onClick","PublicKeyCredential","start","_start$data","asseResp","finish","_finish$data","margin","background","border","padding","borderRadius","cursor","fontWeight","letterSpacing","opacity","includes","xmlns","height","viewBox","d"],"sources":["C:/Users/Admin/Desktop/enisi/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { API_BASE, withBase } from '../api';\r\nimport './Login.css';\r\nimport { startRegistration, startAuthentication } from '@simplewebauthn/browser';\r\nimport { useI18n } from '../i18n';\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [regUsername, setRegUsername] = useState('');\r\n  const [regPassword, setRegPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [regError, setRegError] = useState(null);\r\n  const [regSuccess, setRegSuccess] = useState(false);\r\n  const [remember, setRemember] = useState(true);\r\n  const [passkeyMsg, setPasskeyMsg] = useState(null);\r\n  const [busy, setBusy] = useState(false);\r\n  const { t } = useI18n();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setSuccess(false);\r\n    try {\r\n  const resp = await axios.post(withBase('/api/login'), { username, password, remember }, { validateStatus:()=>true });\r\n      if (resp.status === 200) {\r\n        setSuccess(true);\r\n        if (typeof onLogin === 'function') onLogin();\r\n        // Force a light reload to ensure session user picked by /api/me (optional)\r\n        setTimeout(()=>{ window.location.href='/?google=1'; }, 300);\r\n      } else if (resp.status === 403 && resp.data?.pending) {\r\n        window.location.href='/?pending=1';\r\n      } else {\r\n        setError(resp.data?.error || 'Login failed');\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Login failed');\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setRegError(null);\r\n    setRegSuccess(false);\r\n    try {\r\n      const resp = await axios.post(withBase('/api/register'), { username: regUsername, password: regPassword });\r\n      if (resp.data?.pending) {\r\n        // go to pending page immediately\r\n        window.location.href='/?pending=1';\r\n      } else {\r\n        setRegSuccess(true);\r\n      }\r\n      setRegUsername('');\r\n      setRegPassword('');\r\n    } catch (err) {\r\n      setRegError(err.response?.data?.error || 'Registration failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n  <div className=\"heading\">{showRegister ? t('login_create_account') : t('login_sign_in')}</div>\r\n      {!showRegister ? (\r\n        <>\r\n          <form className=\"form\" onSubmit={handleSubmit}>\r\n            <input required className=\"input\" type=\"text\" name=\"username\" id=\"username\" placeholder={t('login_username')} value={username} onChange={e => setUsername(e.target.value)} />\r\n            <input required className=\"input\" type=\"password\" name=\"password\" id=\"password\" placeholder={t('login_password')} value={password} onChange={e => setPassword(e.target.value)} />\r\n            <span className=\"forgot-password\"><a href=\"#\">{t('login_forgot_password')}</a></span>\r\n            <label style={{display:'flex',alignItems:'center',gap:'6px',fontSize:'12px',marginTop:'10px'}}>\r\n              <input type=\"checkbox\" checked={remember} onChange={e=>setRemember(e.target.checked)} /> Remember me\r\n            </label>\r\n            <input className=\"login-button\" type=\"submit\" value={t('login_sign_in')} />\r\n          </form>\r\n          {error && <div style={{ color: 'red', textAlign: 'center', marginTop: '10px' }}>{error}</div>}\r\n          {success && <div style={{ color: 'green', textAlign: 'center', marginTop: '10px' }}>Login successful!</div>}\r\n          {/* Passkey login (username required to discover credentials) */}\r\n          <button\r\n            type=\"button\"\r\n            disabled={busy || !username}\r\n            onClick={async()=>{\r\n              if(!window.PublicKeyCredential){ setPasskeyMsg(t('passkey_not_supported')); return; }\r\n              setBusy(true); setPasskeyMsg(null);\r\n              try {\r\n                // Start auth\r\n                const start = await axios.post(withBase('/api/webauthn/auth/start'), { username }, { validateStatus:()=>true });\r\n                if(start.status!==200){ setPasskeyMsg(start.data?.error || t('passkey_login_error')); setBusy(false); return; }\r\n                const asseResp = await startAuthentication(start.data);\r\n                const finish = await axios.post(withBase('/api/webauthn/auth/finish'), asseResp, { validateStatus:()=>true });\r\n                if(finish.status===200){ setPasskeyMsg(t('passkey_login_success')); if(typeof onLogin==='function'){ onLogin(); } setTimeout(()=>window.location.href='/?passkey=1', 250); }\r\n                else { setPasskeyMsg(finish.data?.error || t('passkey_login_error')); }\r\n              } catch(e){ setPasskeyMsg(t('passkey_login_error')); }\r\n              finally { setBusy(false); }\r\n            }}\r\n            style={{margin:'8px auto 0',display:'block',background:'#0d6efd',color:'#fff',border:'none',padding:'0.55rem 0.9rem',borderRadius:8,cursor:'pointer',fontSize:'0.75rem',fontWeight:600,letterSpacing:'0.5px',opacity:busy?0.7:1}}\r\n          >{busy? t('passkey_in_progress') : t('passkey_login')}</button>\r\n          {passkeyMsg && <div style={{ textAlign:'center',marginTop:6,fontSize:'0.7rem',color: passkeyMsg.includes('sukses')||passkeyMsg.includes('success')? 'green':'#444' }}>{passkeyMsg}</div>}\r\n          <button style={{ margin: '10px auto', display: 'block', background: 'none', border: 'none', color: '#0099ff', cursor: 'pointer', fontSize: '14px' }} onClick={() => setShowRegister(true)}>\r\n            {t('login_create_account')}\r\n          </button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <form className=\"form\" onSubmit={handleRegister}>\r\n            <input required className=\"input\" type=\"text\" name=\"regUsername\" id=\"regUsername\" placeholder={t('login_username')} value={regUsername} onChange={e => setRegUsername(e.target.value)} />\r\n            <input required className=\"input\" type=\"password\" name=\"regPassword\" id=\"regPassword\" placeholder={t('login_password')} value={regPassword} onChange={e => setRegPassword(e.target.value)} />\r\n            <input className=\"login-button\" type=\"submit\" value={t('login_create_account')} />\r\n          </form>\r\n          {regError && <div style={{ color: 'red', textAlign: 'center', marginTop: '10px' }}>{regError}</div>}\r\n          {regSuccess && <div style={{ color: 'green', textAlign: 'center', marginTop: '10px' }}>{t('login_pending_account')}</div>}\r\n          <button style={{ margin: '10px auto', display: 'block', background: 'none', border: 'none', color: '#0099ff', cursor: 'pointer', fontSize: '14px' }} onClick={() => setShowRegister(false)}>\r\n            {t('login_back')}\r\n          </button>\r\n        </>\r\n      )}\r\n      <div className=\"social-account-container\">\r\n  <span className=\"title\">{t('login_or_social')}</span>\r\n        <div className=\"social-accounts\">\r\n          <button className=\"social-button google\" type=\"button\" onClick={() => window.location.href=withBase('/api/auth/google')}>\r\n            <svg className=\"svg\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 488 512\">\r\n              <path d=\"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <span className=\"agreement\"><a href=\"#\">Learn user licence agreement</a></span>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}