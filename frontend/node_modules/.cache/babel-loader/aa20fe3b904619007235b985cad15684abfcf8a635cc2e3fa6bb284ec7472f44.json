{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\enisi\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login({\n  onLogin\n}) {\n  _s();\n  const [mode, setMode] = useState('login'); // login | register\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const clear = () => setError(null);\n  const submit = async e => {\n    e.preventDefault();\n    clear();\n    setSuccess(false);\n    if (mode === 'register') {\n      if (!username || !password || !confirm) return setError('Plotëso fushat');\n      if (password !== confirm) return setError('Fjalëkalimet nuk përputhen');\n      try {\n        await axios.post('http://localhost:4000/api/register', {\n          username,\n          password\n        });\n        setMode('login');\n        setPassword('');\n        setConfirm('');\n        setSuccess(true);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Regjistrimi dështoi');\n      }\n      return;\n    }\n    // login\n    try {\n      await axios.post('http://localhost:4000/api/login', {\n        username,\n        password\n      });\n      setSuccess(true);\n      if (typeof onLogin === 'function') onLogin();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Hyrja dështoi');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-box\",\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: mode === 'login' ? 'Hyrje' : 'Regjistrim'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"P\\xEBrdoruesi\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Fjal\\xEBkalimi\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true,\n        minLength: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), mode === 'register' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"P\\xEBrs\\xEBrite fjal\\xEBkalimin\",\n        value: confirm,\n        onChange: e => setConfirm(e.target.value),\n        required: true,\n        minLength: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-error\",\n        onClick: clear,\n        title: \"Kliko p\\xEBr ta mbyllur\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-success\",\n        title: \"Status\",\n        children: mode === 'login' ? 'Sukses!' : 'Krijuar!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: mode === 'login' ? 'Kyçu' : 'Krijo Llogari'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-switch\",\n        children: mode === 'login' ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"S'ke llogari?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              clear();\n              setMode('register');\n            },\n            children: \"Regjistrohu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Ke llogari?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              clear();\n              setMode('login');\n            },\n            children: \"Hyr\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Xn4k6SSwl4Me80oL8HRXh+1CvJM=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Login","onLogin","_s","mode","setMode","username","setUsername","password","setPassword","confirm","setConfirm","error","setError","success","setSuccess","clear","submit","e","preventDefault","post","err","_err$response","_err$response$data","response","data","_err$response2","_err$response2$data","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","required","minLength","onClick","title","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/enisi/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './Login.css';\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [mode, setMode] = useState('login'); // login | register\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirm, setConfirm] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const clear = () => setError(null);\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    clear();\r\n    setSuccess(false);\r\n    if (mode === 'register') {\r\n      if (!username || !password || !confirm) return setError('Plotëso fushat');\r\n      if (password !== confirm) return setError('Fjalëkalimet nuk përputhen');\r\n      try {\r\n        await axios.post('http://localhost:4000/api/register', { username, password });\r\n        setMode('login');\r\n        setPassword('');\r\n        setConfirm('');\r\n        setSuccess(true);\r\n      } catch (err) {\r\n        setError(err.response?.data?.error || 'Regjistrimi dështoi');\r\n      }\r\n      return;\r\n    }\r\n    // login\r\n    try {\r\n      await axios.post('http://localhost:4000/api/login', { username, password });\r\n      setSuccess(true);\r\n      if (typeof onLogin === 'function') onLogin();\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Hyrja dështoi');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      <form className=\"login-box\" onSubmit={submit}>\r\n        <h2>{mode === 'login' ? 'Hyrje' : 'Regjistrim'}</h2>\r\n        <input\r\n          type=\"text\"\r\n            placeholder=\"Përdoruesi\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Fjalëkalimi\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n          minLength={4}\r\n        />\r\n        {mode === 'register' && (\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Përsërite fjalëkalimin\"\r\n            value={confirm}\r\n            onChange={(e) => setConfirm(e.target.value)}\r\n            required\r\n            minLength={4}\r\n          />\r\n        )}\r\n        {error && (\r\n          <div className=\"login-error\" onClick={clear} title=\"Kliko për ta mbyllur\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        {success && (\r\n          <div className=\"login-success\" title=\"Status\">\r\n            {mode === 'login' ? 'Sukses!' : 'Krijuar!'}\r\n          </div>\r\n        )}\r\n        <button type=\"submit\">{mode === 'login' ? 'Kyçu' : 'Krijo Llogari'}</button>\r\n        <div className=\"login-switch\">\r\n          {mode === 'login' ? (\r\n            <span>\r\n              S'ke llogari?{' '}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  clear();\r\n                  setMode('register');\r\n                }}\r\n              >\r\n                Regjistrohu\r\n              </button>\r\n            </span>\r\n          ) : (\r\n            <span>\r\n              Ke llogari?{' '}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  clear();\r\n                  setMode('login');\r\n                }}\r\n              >\r\n                Hyr\r\n              </button>\r\n            </span>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}