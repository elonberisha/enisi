{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\enisi\\\\frontend\\\\src\\\\components\\\\ReportPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { withBase } from '../api';\nimport './ReportPanel.css';\nimport NameInput from './NameInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReportPanel() {\n  _s();\n  const year = new Date().getFullYear();\n  const janFirst = `${year}-01-01`;\n  const today = new Date().toISOString().slice(0, 10);\n  const [start, setStart] = useState(janFirst);\n  const [end, setEnd] = useState(today);\n  const [report, setReport] = useState(null);\n  const [search, setSearch] = useState('');\n  const [sectorId, setSectorId] = useState('');\n  const [sectors, setSectors] = useState([]);\n  const [toast, setToast] = useState(null);\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'asc'\n  });\n  const fetchReport = async () => {\n    if (!start || !end) return;\n    try {\n      const res = await axios.get(withBase(`/api/report?start=${start}&end=${end}`));\n      setReport(res.data);\n    } catch (err) {\n      setToast('Gabim në lidhje me serverin!');\n    }\n  };\n  useEffect(() => {\n    if (start && end) fetchReport();\n  }, [start, end]);\n  useEffect(() => {\n    const fetchSectors = async () => {\n      try {\n        const res = await axios.get(withBase('/api/sectors'));\n        setSectors(res.data);\n      } catch (err) {\n        setToast('Gabim në lidhje me serverin!');\n      }\n    };\n    fetchSectors();\n  }, []);\n  const handleSort = key => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const filteredWorkers = (report === null || report === void 0 ? void 0 : report.workers.filter(w => {\n    const matchesSearch = w.first_name.toLowerCase().includes(search.toLowerCase()) || w.last_name.toLowerCase().includes(search.toLowerCase()) || w.position.toLowerCase().includes(search.toLowerCase());\n    const matchesSector = sectorId === '' || String(w.sector_id) === String(sectorId);\n    return matchesSearch && matchesSector;\n  })) || [];\n\n  // Sort filtered workers\n  const sortedWorkers = [...filteredWorkers];\n  if (sortConfig.key) {\n    sortedWorkers.sort((a, b) => {\n      const aValue = getSortValue(a, sortConfig.key);\n      const bValue = getSortValue(b, sortConfig.key);\n      if (aValue < bValue) {\n        return sortConfig.direction === 'asc' ? -1 : 1;\n      }\n      if (aValue > bValue) {\n        return sortConfig.direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n  }\n  function getSortValue(worker, key) {\n    const wh = report.workhours.filter(w => w.worker_id === worker.id);\n    const paga = report.payments.filter(p => p.worker_id === worker.id && p.type === 'paga');\n    const avanc = report.payments.filter(p => p.worker_id === worker.id && p.type === 'avanc');\n    const totalHours = wh.reduce((sum, w) => sum + w.hours, 0);\n    const totalPaga = paga.reduce((sum, p) => sum + p.amount, 0);\n    const totalAvanc = avanc.reduce((sum, p) => sum + p.amount, 0);\n    const expected = totalHours * worker.hourly_rate;\n    const balance = totalPaga + totalAvanc - expected;\n    switch (key) {\n      case 'name':\n        return `${worker.first_name} ${worker.last_name}`;\n      case 'sector':\n        return worker.sector_name || '';\n      case 'hours':\n        return totalHours;\n      case 'rate':\n        return worker.hourly_rate;\n      case 'paga':\n        return totalPaga;\n      case 'avanc':\n        return totalAvanc;\n      case 'balance':\n        return balance;\n      default:\n        return '';\n    }\n  }\n\n  // Calculate totals\n  const totals = sortedWorkers.reduce((acc, worker) => {\n    const wh = report.workhours.filter(w => w.worker_id === worker.id);\n    const paga = report.payments.filter(p => p.worker_id === worker.id && p.type === 'paga');\n    const avanc = report.payments.filter(p => p.worker_id === worker.id && p.type === 'avanc');\n    acc.totalHours += wh.reduce((sum, w) => sum + w.hours, 0);\n    acc.totalPaga += paga.reduce((sum, p) => sum + p.amount, 0);\n    acc.totalAvanc += avanc.reduce((sum, p) => sum + p.amount, 0);\n    acc.totalExpected += wh.reduce((sum, w) => sum + w.hours, 0) * worker.hourly_rate;\n    return acc;\n  }, {\n    totalHours: 0,\n    totalPaga: 0,\n    totalAvanc: 0,\n    totalExpected: 0\n  });\n  const totalBalance = totals.totalPaga + totals.totalAvanc - totals.totalExpected;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"report-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"report-title\",\n      children: \"Raport i P\\xEBrgjithsh\\xEBm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"period-info\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Periudha e raportit: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: start\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 38\n          }, this), \" deri \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: end\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 68\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"report-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-label\",\n            children: \"Totali i or\\xEBve:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-value\",\n            children: totals.totalHours\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-label\",\n            children: \"Totali i pagave:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-value\",\n            children: [totals.totalPaga.toFixed(2), \" \\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-label\",\n            children: \"Totali i avancave:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-value\",\n            children: [totals.totalAvanc.toFixed(2), \" \\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"summary-label\",\n            children: \"Balanca totale:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `summary-value ${totalBalance >= 0 ? 'positive' : 'negative'}`,\n            children: [totalBalance.toFixed(2), \" \\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-controls\",\n      children: [/*#__PURE__*/_jsxDEV(NameInput, {\n        type: \"date\",\n        name: \"start\",\n        value: start,\n        onChange: e => setStart(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NameInput, {\n        type: \"date\",\n        name: \"end\",\n        value: end,\n        onChange: e => setEnd(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Sektori:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: sectorId,\n            onChange: e => setSectorId(e.target.value),\n            className: \"report-sector-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"T\\xEB gjitha sektor\\xEBt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), sectors.map(sector => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: sector.id,\n              children: sector.name\n            }, sector.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"K\\xEBrko:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NameInput, {\n            name: \"search\",\n            value: search,\n            onChange: e => setSearch(e.target.value),\n            placeholder: \"Emri, mbiemri ose pozita...\",\n            className: \"report-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"report-btn-main\",\n          onClick: fetchReport,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 16 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), \"Shfaq Raportin\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), report && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"report-btn-print\",\n          onClick: () => window.print(),\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 16 16\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), \"Printo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), report && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-table-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"report-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('name'),\n              className: \"sortable\",\n              children: [\"Pun\\xEBtori \", sortConfig.key === 'name' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('sector'),\n              className: \"sortable\",\n              children: [\"Sektori \", sortConfig.key === 'sector' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('hours'),\n              className: \"sortable\",\n              children: [\"Or\\xEBt \", sortConfig.key === 'hours' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('rate'),\n              className: \"sortable\",\n              children: [\"\\xC7mimi i Or\\xEBs \", sortConfig.key === 'rate' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('paga'),\n              className: \"sortable\",\n              children: [\"Paga \", sortConfig.key === 'paga' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('avanc'),\n              className: \"sortable\",\n              children: [\"Avancat \", sortConfig.key === 'avanc' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort('balance'),\n              className: \"sortable\",\n              children: [\"Balanca \", sortConfig.key === 'balance' && (sortConfig.direction === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedWorkers.map(worker => {\n            const wh = report.workhours.filter(w => w.worker_id === worker.id);\n            const paga = report.payments.filter(p => p.worker_id === worker.id && p.type === 'paga');\n            const avanc = report.payments.filter(p => p.worker_id === worker.id && p.type === 'avanc');\n            const totalHours = wh.reduce((sum, w) => sum + w.hours, 0);\n            const totalPaga = paga.reduce((sum, p) => sum + p.amount, 0);\n            const totalAvanc = avanc.reduce((sum, p) => sum + p.amount, 0);\n            const expected = totalHours * worker.hourly_rate;\n            const balance = totalPaga + totalAvanc - expected;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"worker-name\",\n                children: [worker.first_name, \" \", worker.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: worker.sector_name || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: totalHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [worker.hourly_rate, \" \\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [totalPaga.toFixed(2), \" \\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [totalAvanc.toFixed(2), \" \\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: balance >= 0 ? 'positive' : 'negative',\n                children: [balance.toFixed(2), \" \\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this)]\n            }, worker.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"table-totals\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"2\",\n              children: \"Totali:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: totals.totalHours\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [totals.totalPaga.toFixed(2), \" \\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [totals.totalAvanc.toFixed(2), \" \\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: totalBalance >= 0 ? 'positive' : 'negative',\n              children: [totalBalance.toFixed(2), \" \\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-toast\",\n      onClick: () => setToast(null),\n      children: [toast, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"toast-close\",\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportPanel, \"OvrMdrN8EleKkphSgeJ5XH/9mz4=\");\n_c = ReportPanel;\nexport default ReportPanel;\nvar _c;\n$RefreshReg$(_c, \"ReportPanel\");","map":{"version":3,"names":["React","useState","useEffect","axios","withBase","NameInput","jsxDEV","_jsxDEV","ReportPanel","_s","year","Date","getFullYear","janFirst","today","toISOString","slice","start","setStart","end","setEnd","report","setReport","search","setSearch","sectorId","setSectorId","sectors","setSectors","toast","setToast","sortConfig","setSortConfig","key","direction","fetchReport","res","get","data","err","fetchSectors","handleSort","filteredWorkers","workers","filter","w","matchesSearch","first_name","toLowerCase","includes","last_name","position","matchesSector","String","sector_id","sortedWorkers","sort","a","b","aValue","getSortValue","bValue","worker","wh","workhours","worker_id","id","paga","payments","p","type","avanc","totalHours","reduce","sum","hours","totalPaga","amount","totalAvanc","expected","hourly_rate","balance","sector_name","totals","acc","totalExpected","totalBalance","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","name","value","onChange","e","target","required","map","sector","placeholder","onClick","width","height","fill","viewBox","d","window","print","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/enisi/frontend/src/components/ReportPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { withBase } from '../api';\r\nimport './ReportPanel.css';\r\nimport NameInput from './NameInput';\r\n\r\nfunction ReportPanel() {\r\n  const year = new Date().getFullYear();\r\n  const janFirst = `${year}-01-01`;\r\n  const today = new Date().toISOString().slice(0, 10);\r\n  const [start, setStart] = useState(janFirst);\r\n  const [end, setEnd] = useState(today);\r\n  const [report, setReport] = useState(null);\r\n  const [search, setSearch] = useState('');\r\n  const [sectorId, setSectorId] = useState('');\r\n  const [sectors, setSectors] = useState([]);\r\n  const [toast, setToast] = useState(null);\r\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n\r\n  const fetchReport = async () => {\r\n    if (!start || !end) return;\r\n    try {\r\n  const res = await axios.get(withBase(`/api/report?start=${start}&end=${end}`));\r\n      setReport(res.data);\r\n    } catch (err) {\r\n      setToast('Gabim në lidhje me serverin!');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (start && end) fetchReport();\r\n  }, [start, end]);\r\n\r\n  useEffect(() => {\r\n    const fetchSectors = async () => {\r\n      try {\r\n  const res = await axios.get(withBase('/api/sectors'));\r\n        setSectors(res.data);\r\n      } catch (err) {\r\n        setToast('Gabim në lidhje me serverin!');\r\n      }\r\n    };\r\n    fetchSectors();\r\n  }, []);\r\n\r\n  const handleSort = (key) => {\r\n    let direction = 'asc';\r\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\r\n      direction = 'desc';\r\n    }\r\n    setSortConfig({ key, direction });\r\n  };\r\n\r\n  const filteredWorkers = report?.workers.filter(w => {\r\n    const matchesSearch =\r\n      w.first_name.toLowerCase().includes(search.toLowerCase()) ||\r\n      w.last_name.toLowerCase().includes(search.toLowerCase()) ||\r\n      w.position.toLowerCase().includes(search.toLowerCase());\r\n    const matchesSector = sectorId === '' || String(w.sector_id) === String(sectorId);\r\n    return matchesSearch && matchesSector;\r\n  }) || [];\r\n\r\n  // Sort filtered workers\r\n  const sortedWorkers = [...filteredWorkers];\r\n  if (sortConfig.key) {\r\n    sortedWorkers.sort((a, b) => {\r\n      const aValue = getSortValue(a, sortConfig.key);\r\n      const bValue = getSortValue(b, sortConfig.key);\r\n      \r\n      if (aValue < bValue) {\r\n        return sortConfig.direction === 'asc' ? -1 : 1;\r\n      }\r\n      if (aValue > bValue) {\r\n        return sortConfig.direction === 'asc' ? 1 : -1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  function getSortValue(worker, key) {\r\n    const wh = report.workhours.filter(w => w.worker_id === worker.id);\r\n    const paga = report.payments.filter(p => p.worker_id === worker.id && p.type === 'paga');\r\n    const avanc = report.payments.filter(p => p.worker_id === worker.id && p.type === 'avanc');\r\n    const totalHours = wh.reduce((sum, w) => sum + w.hours, 0);\r\n    const totalPaga = paga.reduce((sum, p) => sum + p.amount, 0);\r\n    const totalAvanc = avanc.reduce((sum, p) => sum + p.amount, 0);\r\n    const expected = totalHours * worker.hourly_rate;\r\n    const balance = totalPaga + totalAvanc - expected;\r\n\r\n    switch(key) {\r\n      case 'name': return `${worker.first_name} ${worker.last_name}`;\r\n      case 'sector': return worker.sector_name || '';\r\n      case 'hours': return totalHours;\r\n      case 'rate': return worker.hourly_rate;\r\n      case 'paga': return totalPaga;\r\n      case 'avanc': return totalAvanc;\r\n      case 'balance': return balance;\r\n      default: return '';\r\n    }\r\n  }\r\n\r\n  // Calculate totals\r\n  const totals = sortedWorkers.reduce((acc, worker) => {\r\n    const wh = report.workhours.filter(w => w.worker_id === worker.id);\r\n    const paga = report.payments.filter(p => p.worker_id === worker.id && p.type === 'paga');\r\n    const avanc = report.payments.filter(p => p.worker_id === worker.id && p.type === 'avanc');\r\n    \r\n    acc.totalHours += wh.reduce((sum, w) => sum + w.hours, 0);\r\n    acc.totalPaga += paga.reduce((sum, p) => sum + p.amount, 0);\r\n    acc.totalAvanc += avanc.reduce((sum, p) => sum + p.amount, 0);\r\n    acc.totalExpected += wh.reduce((sum, w) => sum + w.hours, 0) * worker.hourly_rate;\r\n    \r\n    return acc;\r\n  }, { totalHours: 0, totalPaga: 0, totalAvanc: 0, totalExpected: 0 });\r\n\r\n  const totalBalance = totals.totalPaga + totals.totalAvanc - totals.totalExpected;\r\n\r\n  return (\r\n    <div className=\"report-panel\">\r\n      <h2 className=\"report-title\">Raport i Përgjithshëm</h2>\r\n      \r\n      <div className=\"report-header\">\r\n        <div className=\"period-info\">\r\n          <span>Periudha e raportit: <strong>{start}</strong> deri <strong>{end}</strong></span>\r\n        </div>\r\n        <div className=\"report-summary\">\r\n          <div className=\"summary-item\">\r\n            <span className=\"summary-label\">Totali i orëve:</span>\r\n            <span className=\"summary-value\">{totals.totalHours}</span>\r\n          </div>\r\n          <div className=\"summary-item\">\r\n            <span className=\"summary-label\">Totali i pagave:</span>\r\n            <span className=\"summary-value\">{totals.totalPaga.toFixed(2)} €</span>\r\n          </div>\r\n          <div className=\"summary-item\">\r\n            <span className=\"summary-label\">Totali i avancave:</span>\r\n            <span className=\"summary-value\">{totals.totalAvanc.toFixed(2)} €</span>\r\n          </div>\r\n          <div className=\"summary-item\">\r\n            <span className=\"summary-label\">Balanca totale:</span>\r\n            <span className={`summary-value ${totalBalance >= 0 ? 'positive' : 'negative'}`}>\r\n              {totalBalance.toFixed(2)} €\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"report-controls\">\r\n        <NameInput type=\"date\" name=\"start\" value={start} onChange={e => setStart(e.target.value)} required />\r\n        <NameInput type=\"date\" name=\"end\" value={end} onChange={e => setEnd(e.target.value)} required />\r\n        \r\n        <div className=\"filter-controls\">\r\n          <div className=\"filter-group\">\r\n            <label>Sektori:</label>\r\n            <select value={sectorId} onChange={e => setSectorId(e.target.value)} className=\"report-sector-dropdown\">\r\n              <option value=\"\">Të gjitha sektorët</option>\r\n              {sectors.map(sector => (\r\n                <option key={sector.id} value={sector.id}>{sector.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"filter-group\">\r\n            <label>Kërko:</label>\r\n            <NameInput\r\n              name=\"search\"\r\n              value={search}\r\n              onChange={e => setSearch(e.target.value)}\r\n              placeholder=\"Emri, mbiemri ose pozita...\"\r\n              className=\"report-search\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"action-buttons\">\r\n          <button className=\"report-btn-main\" onClick={fetchReport}>\r\n            <svg width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"/>\r\n            </svg>\r\n            Shfaq Raportin\r\n          </button>\r\n          \r\n          {report && (\r\n            <button className=\"report-btn-print\" onClick={() => window.print()}>\r\n              <svg width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z\"/>\r\n                <path d=\"M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z\"/>\r\n              </svg>\r\n              Printo\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {report && (\r\n        <div className=\"report-table-wrapper\">\r\n          <table className=\"report-table\">\r\n            <thead>\r\n              <tr>\r\n                <th onClick={() => handleSort('name')} className=\"sortable\">\r\n                  Punëtori {sortConfig.key === 'name' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                <th onClick={() => handleSort('sector')} className=\"sortable\">\r\n                  Sektori {sortConfig.key === 'sector' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                <th onClick={() => handleSort('hours')} className=\"sortable\">\r\n                  Orët {sortConfig.key === 'hours' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                <th onClick={() => handleSort('rate')} className=\"sortable\">\r\n                  Çmimi i Orës {sortConfig.key === 'rate' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                <th onClick={() => handleSort('paga')} className=\"sortable\">\r\n                  Paga {sortConfig.key === 'paga' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                <th onClick={() => handleSort('avanc')} className=\"sortable\">\r\n                  Avancat {sortConfig.key === 'avanc' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                <th onClick={() => handleSort('balance')} className=\"sortable\">\r\n                  Balanca {sortConfig.key === 'balance' && (sortConfig.direction === 'asc' ? '↑' : '↓')}\r\n                </th>\r\n                {/* Agjenti column removed */}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sortedWorkers.map(worker => {\r\n                const wh = report.workhours.filter(w => w.worker_id === worker.id);\r\n                const paga = report.payments.filter(p => p.worker_id === worker.id && p.type === 'paga');\r\n                const avanc = report.payments.filter(p => p.worker_id === worker.id && p.type === 'avanc');\r\n                const totalHours = wh.reduce((sum, w) => sum + w.hours, 0);\r\n                const totalPaga = paga.reduce((sum, p) => sum + p.amount, 0);\r\n                const totalAvanc = avanc.reduce((sum, p) => sum + p.amount, 0);\r\n                const expected = totalHours * worker.hourly_rate;\r\n                const balance = totalPaga + totalAvanc - expected;\r\n                \r\n                return (\r\n                  <tr key={worker.id}>\r\n                    <td className=\"worker-name\">{worker.first_name} {worker.last_name}</td>\r\n                    <td>{worker.sector_name || '-'}</td>\r\n                    <td>{totalHours}</td>\r\n                    <td>{worker.hourly_rate} €</td>\r\n                    <td>{totalPaga.toFixed(2)} €</td>\r\n                    <td>{totalAvanc.toFixed(2)} €</td>\r\n                    <td className={balance >= 0 ? 'positive' : 'negative'}>{balance.toFixed(2)} €</td>\r\n                    {/* Agjenti cell removed */}\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr className=\"table-totals\">\r\n                <td colSpan=\"2\">Totali:</td>\r\n                <td>{totals.totalHours}</td>\r\n                {/* Removed Agjenti total cell */}\r\n                <td>{totals.totalPaga.toFixed(2)} €</td>\r\n                <td>{totals.totalAvanc.toFixed(2)} €</td>\r\n                <td className={totalBalance >= 0 ? 'positive' : 'negative'}>{totalBalance.toFixed(2)} €</td>\r\n                <td>-</td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      )}\r\n      \r\n      {toast && (\r\n        <div className=\"report-toast\" onClick={() => setToast(null)}>\r\n          {toast}\r\n          <span className=\"toast-close\">✕</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}