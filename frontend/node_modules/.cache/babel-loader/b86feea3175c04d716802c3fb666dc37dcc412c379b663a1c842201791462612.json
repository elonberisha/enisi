{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/enisi/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{withBase}from'../api';import'./PaymentsPanel.css';import NameInput from'./NameInput';import{useI18n}from'../i18n';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PaymentsPanel(){const{t,lang}=useI18n();const[workers,setWorkers]=useState([]);const[payments,setPayments]=useState([]);const today=new Date().toISOString().slice(0,10);const[form,setForm]=useState({worker_id:'',date:today,amount:'',type:'paga'});const[search,setSearch]=useState('');const[toast,setToast]=useState(null);const[deleting,setDeleting]=useState(new Set());useEffect(()=>{fetchWorkers();fetchPayments();},[]);const fetchWorkers=async()=>{try{const res=await axios.get(withBase('/api/workers'));setWorkers(res.data);}catch(err){setToast(t('error_server'));}};const fetchPayments=async()=>{try{const res=await axios.get(withBase('/api/payments'));setPayments(res.data);}catch(err){setToast(t('error_server'));}};const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();try{if(form.id){await axios.put(withBase(\"/api/payments/\".concat(form.id)),form);setToast(t('updated_success'));}else{await axios.post(withBase('/api/payments'),form);setToast(t('created_success'));}setForm({worker_id:'',date:today,amount:'',type:'paga'});fetchPayments();}catch(err){setToast(t('error_save'));}};const handleDelete=async id=>{if(window.confirm(t('confirm_delete_payment'))){if(deleting.has(id))return;// already processing\nsetDeleting(prev=>new Set(prev).add(id));try{await axios.delete(withBase(\"/api/payments/\".concat(id)));setToast(t('deleted_success'));setPayments(prev=>prev.filter(x=>x.id!==id));// optimistic remove\n}catch(err){var _err$response;if((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===404){// stale row: remove from UI anyway\nsetPayments(prev=>prev.filter(x=>x.id!==id));setToast(t('row_missing_cleaned'));// full sync after short delay\nsetTimeout(()=>fetchPayments(),250);}else{var _err$response2,_err$response2$data,_err$response3,_err$response4;const msg=(err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||((err===null||err===void 0?void 0:(_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===401?t('must_login_401'):(err===null||err===void 0?void 0:(_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)===403?t('no_permission_403'):t('error_delete'));setToast(msg);}}setDeleting(prev=>{const n=new Set(prev);n.delete(id);return n;});}};const filteredPayments=payments.filter(p=>{const worker=workers.find(x=>x.id===p.worker_id);const hay=worker?\"\".concat(worker.first_name,\" \").concat(worker.last_name,\" - \").concat(worker.sector_name||'').toLowerCase():'';return!search||hay.includes(search.toLowerCase());});return/*#__PURE__*/_jsxs(\"div\",{className:\"pay-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"pay-title\",children:t('payments_title')}),/*#__PURE__*/_jsxs(\"form\",{className:\"pay-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"30\",height:\"30\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{stroke:\"currentColor\",strokeWidth:\"1.25\",d:\"M7 17v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3Zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"})})}),/*#__PURE__*/_jsxs(\"select\",{name:\"worker_id\",value:form.worker_id,onChange:handleChange,required:true,className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:t('worker_select_placeholder')}),workers.map(worker=>/*#__PURE__*/_jsxs(\"option\",{value:worker.id,children:[worker.first_name,\" \",worker.last_name,\" - \",worker.sector_name||t('no_sector')]},worker.id))]})]}),/*#__PURE__*/_jsx(NameInput,{name:\"date\",value:form.date,onChange:handleChange,type:\"date\",required:true}),/*#__PURE__*/_jsx(NameInput,{name:\"amount\",value:form.amount,onChange:handleChange,placeholder:t('amount'),type:\"number\",step:\"0.01\",required:true}),/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"30\",height:\"30\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{stroke:\"currentColor\",strokeWidth:\"1.25\",d:\"M7 17v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3Zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"})})}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:form.type,onChange:handleChange,required:true,className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"paga\",children:t('paga')}),/*#__PURE__*/_jsx(\"option\",{value:\"avanc\",children:t('avanc')})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"pay-btn-main\",children:form.id?t('btn_save_changes'):t('btn_add')}),form.id&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"pay-btn-cancel\",onClick:()=>setForm({worker_id:'',date:today,amount:'',type:'paga'}),children:t('btn_cancel')})]}),/*#__PURE__*/_jsx(NameInput,{name:\"search\",value:search,onChange:e=>setSearch(e.target.value),placeholder:t('search_worker_placeholder')}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.5rem',margin:'0.5rem 0'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"pay-btn-main\",style:{padding:'0.4rem 0.9rem'},onClick:fetchPayments,children:t('refresh')})}),/*#__PURE__*/_jsx(\"div\",{className:\"pay-table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table pay-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'55px'},children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:t('name_col')}),/*#__PURE__*/_jsx(\"th\",{children:t('date')}),/*#__PURE__*/_jsx(\"th\",{children:t('amount')}),/*#__PURE__*/_jsx(\"th\",{children:t('type')}),/*#__PURE__*/_jsx(\"th\",{children:t('agent')}),/*#__PURE__*/_jsx(\"th\",{children:t('actions')})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredPayments.map(p=>{const worker=workers.find(x=>x.id===p.worker_id);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{fontSize:'0.65rem',opacity:0.7},children:p.id}),/*#__PURE__*/_jsx(\"td\",{children:worker?\"\".concat(worker.first_name,\" \").concat(worker.last_name,\" - \").concat(worker.sector_name||t('no_sector')):'-'}),/*#__PURE__*/_jsx(\"td\",{children:p.date}),/*#__PURE__*/_jsxs(\"td\",{children:[p.amount,\" \\u20AC\"]}),/*#__PURE__*/_jsx(\"td\",{children:p.type==='paga'?t('paga'):t('avanc')}),/*#__PURE__*/_jsx(\"td\",{style:{fontSize:'0.65rem',fontWeight:600,color:'#dc2626'},children:p.created_by||'-'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"pay-btn-edit\",type:\"button\",onClick:()=>setForm({worker_id:p.worker_id,date:p.date,amount:p.amount,type:p.type,id:p.id}),children:t('edit')}),/*#__PURE__*/_jsx(\"button\",{className:\"pay-btn-delete\",type:\"button\",disabled:deleting.has(p.id),style:deleting.has(p.id)?{opacity:0.5,cursor:'wait'}:null,onClick:()=>handleDelete(p.id),children:deleting.has(p.id)?'...':t('delete')})]})]},p.id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.4rem',fontSize:'0.65rem',opacity:0.6},children:[t('total_rows'),\": \",payments.length]}),toast&&/*#__PURE__*/_jsx(\"div\",{className:\"pay-toast\",onClick:()=>setToast(null),children:toast})]});}export default PaymentsPanel;","map":{"version":3,"names":["React","useState","useEffect","axios","withBase","NameInput","useI18n","jsx","_jsx","jsxs","_jsxs","PaymentsPanel","t","lang","workers","setWorkers","payments","setPayments","today","Date","toISOString","slice","form","setForm","worker_id","date","amount","type","search","setSearch","toast","setToast","deleting","setDeleting","Set","fetchWorkers","fetchPayments","res","get","data","err","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","id","put","concat","post","handleDelete","window","confirm","has","prev","add","delete","filter","x","_err$response","response","status","setTimeout","_err$response2","_err$response2$data","_err$response3","_err$response4","msg","error","n","filteredPayments","p","worker","find","hay","first_name","last_name","sector_name","toLowerCase","includes","className","children","onSubmit","width","height","fill","viewBox","stroke","strokeWidth","d","onChange","required","map","placeholder","step","onClick","style","display","gap","margin","padding","fontSize","opacity","fontWeight","color","created_by","disabled","cursor","marginTop","length"],"sources":["C:/Users/Admin/Desktop/enisi/frontend/src/components/PaymentsPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { withBase } from '../api';\r\nimport './PaymentsPanel.css';\r\nimport NameInput from './NameInput';\r\nimport { useI18n } from '../i18n';\r\n\r\nfunction PaymentsPanel() {\r\n  const { t, lang } = useI18n();\r\n  const [workers, setWorkers] = useState([]);\r\n  const [payments, setPayments] = useState([]);\r\n  const today = new Date().toISOString().slice(0, 10);\r\n  const [form, setForm] = useState({ worker_id: '', date: today, amount: '', type: 'paga' });\r\n  const [search, setSearch] = useState('');\r\n  const [toast, setToast] = useState(null);\r\n  const [deleting, setDeleting] = useState(new Set());\r\n\r\n  useEffect(() => {\r\n    fetchWorkers();\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  const fetchWorkers = async () => {\r\n    try {\r\n  const res = await axios.get(withBase('/api/workers'));\r\n      setWorkers(res.data);\r\n    } catch (err) {\r\n  setToast(t('error_server'));\r\n    }\r\n  };\r\n\r\n  const fetchPayments = async () => {\r\n    try {\r\n  const res = await axios.get(withBase('/api/payments'));\r\n      setPayments(res.data);\r\n    } catch (err) {\r\n  setToast(t('error_server'));\r\n    }\r\n  };\r\n\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      if (form.id) {\r\n  await axios.put(withBase(`/api/payments/${form.id}`), form);\r\n    setToast(t('updated_success'));\r\n      } else {\r\n  await axios.post(withBase('/api/payments'), form);\r\n    setToast(t('created_success'));\r\n      }\r\n      setForm({ worker_id: '', date: today, amount: '', type: 'paga' });\r\n      fetchPayments();\r\n    } catch (err) {\r\n  setToast(t('error_save'));\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n  if (window.confirm(t('confirm_delete_payment'))) {\r\n  if (deleting.has(id)) return; // already processing\r\n  setDeleting(prev => new Set(prev).add(id));\r\n      try {\r\n  await axios.delete(withBase(`/api/payments/${id}`));\r\n  setToast(t('deleted_success'));\r\n        setPayments(prev => prev.filter(x => x.id !== id)); // optimistic remove\r\n      } catch (err) {\r\n        if (err?.response?.status === 404) {\r\n          // stale row: remove from UI anyway\r\n          setPayments(prev => prev.filter(x => x.id !== id));\r\n          setToast(t('row_missing_cleaned'));\r\n          // full sync after short delay\r\n          setTimeout(()=> fetchPayments(), 250);\r\n        } else {\r\n          const msg = err?.response?.data?.error || (err?.response?.status === 401 ? t('must_login_401') : err?.response?.status === 403 ? t('no_permission_403') : t('error_delete'));\r\n          setToast(msg);\r\n        }\r\n      }\r\n  setDeleting(prev => { const n = new Set(prev); n.delete(id); return n; });\r\n    }\r\n  };\r\n\r\n  const filteredPayments = payments.filter(p => {\r\n    const worker = workers.find(x => x.id === p.worker_id);\r\n    const hay = worker ? `${worker.first_name} ${worker.last_name} - ${worker.sector_name || ''}`.toLowerCase() : '';\r\n    return !search || hay.includes(search.toLowerCase());\r\n  });\r\n\r\n  return (\r\n    <div className=\"pay-panel\">\r\n  <h2 className=\"pay-title\">{t('payments_title')}</h2>\r\n      <form className=\"pay-form\" onSubmit={handleSubmit}>\r\n        <label className=\"label\">\r\n          <span className=\"icon\">\r\n            <svg width=\"30\" height=\"30\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <path stroke=\"currentColor\" strokeWidth=\"1.25\" d=\"M7 17v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3Zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\r\n            </svg>\r\n          </span>\r\n          <select name=\"worker_id\" value={form.worker_id} onChange={handleChange} required className=\"input\">\r\n            <option value=\"\">{t('worker_select_placeholder')}</option>\r\n            {workers.map(worker => (\r\n              <option key={worker.id} value={worker.id}>\r\n                {worker.first_name} {worker.last_name} - {worker.sector_name || t('no_sector')}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n  <NameInput name=\"date\" value={form.date} onChange={handleChange} type=\"date\" required />\r\n  <NameInput name=\"amount\" value={form.amount} onChange={handleChange} placeholder={t('amount')} type=\"number\" step=\"0.01\" required />\r\n        <label className=\"label\">\r\n          <span className=\"icon\">\r\n            <svg width=\"30\" height=\"30\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <path stroke=\"currentColor\" strokeWidth=\"1.25\" d=\"M7 17v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3Zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\r\n            </svg>\r\n          </span>\r\n          <select name=\"type\" value={form.type} onChange={handleChange} required className=\"input\">\r\n            <option value=\"paga\">{t('paga')}</option>\r\n            <option value=\"avanc\">{t('avanc')}</option>\r\n          </select>\r\n        </label>\r\n  <button type=\"submit\" className=\"pay-btn-main\">{form.id ? t('btn_save_changes') : t('btn_add')}</button>\r\n  {form.id && <button type=\"button\" className=\"pay-btn-cancel\" onClick={() => setForm({ worker_id: '', date: today, amount: '', type: 'paga' })}>{t('btn_cancel')}</button>}\r\n      </form>\r\n      <NameInput\r\n        name=\"search\"\r\n        value={search}\r\n        onChange={e => setSearch(e.target.value)}\r\n  placeholder={t('search_worker_placeholder')}\r\n      />\r\n      <div style={{display:'flex',gap:'0.5rem',margin:'0.5rem 0'}}>\r\n  <button type=\"button\" className=\"pay-btn-main\" style={{padding:'0.4rem 0.9rem'}} onClick={fetchPayments}>{t('refresh')}</button>\r\n      </div>\r\n      <div className=\"pay-table-wrapper\">\r\n    <table className=\"table pay-table\">\r\n          <thead>\r\n            <tr>\r\n        <th style={{width:'55px'}}>ID</th>\r\n              <th>{t('name_col')}</th>\r\n              <th>{t('date')}</th>\r\n              <th>{t('amount')}</th>\r\n              <th>{t('type')}</th>\r\n              <th>{t('agent')}</th>\r\n              <th>{t('actions')}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredPayments.map(p => {\r\n              const worker = workers.find(x => x.id === p.worker_id);\r\n              return (\r\n                <tr key={p.id}>\r\n          <td style={{fontSize:'0.65rem',opacity:0.7}}>{p.id}</td>\r\n                  <td>{worker ? `${worker.first_name} ${worker.last_name} - ${worker.sector_name || t('no_sector')}` : '-'}</td>\r\n                  <td>{p.date}</td>\r\n                  <td>{p.amount} €</td>\r\n                  <td>{p.type === 'paga' ? t('paga') : t('avanc')}</td>\r\n                  <td style={{fontSize:'0.65rem',fontWeight:600,color:'#dc2626'}}>{p.created_by || '-'}</td>\r\n                  <td>\r\n                    <button className=\"pay-btn-edit\" type=\"button\" onClick={() => setForm({ worker_id: p.worker_id, date: p.date, amount: p.amount, type: p.type, id: p.id })}>{t('edit')}</button>\r\n                    <button className=\"pay-btn-delete\" type=\"button\" disabled={deleting.has(p.id)} style={deleting.has(p.id)?{opacity:0.5,cursor:'wait'}:null} onClick={() => handleDelete(p.id)}>{deleting.has(p.id)?'...' : t('delete')}</button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div style={{marginTop:'0.4rem',fontSize:'0.65rem',opacity:0.6}}>{t('total_rows')}: {payments.length}</div>\r\n      {toast && <div className=\"pay-toast\" onClick={() => setToast(null)}>{toast}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentsPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}